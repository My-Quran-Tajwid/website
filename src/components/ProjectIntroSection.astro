<style>
  @font-face {
    font-family: "QCF4_Hafs_01_W_COLOR";
    src:
      url("/fonts/quran-fonts/fonts/King Fahd Complex/Hafs-QCF4-Colors/woff2/QCF4_Hafs_01_W_COLOR-Regular.woff2")
        format("woff2"),
      url("/fonts/quran-fonts/fonts/King Fahd Complex/Hafs-QCF4-Colors/woff/QCF4_Hafs_01_W_COLOR-Regular.woff")
        format("woff"),
      url("/fonts/quran-fonts/fonts/King Fahd Complex/Hafs-QCF4-Colors/QCF4_Hafs_01_W_COLOR-Regular.ttf")
        format("truetype");
  }

  @font-face {
    font-family: "QCF4_Hafs_01_W";
    src:
      url("/fonts/quran-fonts/fonts/King Fahd Complex/Original/Hafs-QCF4/woff2/QCF4_Hafs_01_W.woff2")
        format("woff2"),
      url("/fonts/quran-fonts/fonts/King Fahd Complex/Original/Hafs-QCF4/woff/QCF4_Hafs_01_W.woff")
        format("woff"),
      url("/fonts/quran-fonts/fonts/King Fahd Complex/Original/Hafs-QCF4/QCF4_Hafs_01_W.ttf")
        format("truetype");
  }

  .quran-text {
    unicode-bidi: bidi-override;
    line-height: 1.8;
  }

  .font-normal {
    font-family: "QCF4_Hafs_01_W";
  }

  .font-colored {
    font-family: "QCF4_Hafs_01_W_COLOR";
  }
</style>
<section class="bg-white pt-12 lg:pt-16 pb-8 md:pb-12 lg:pb-16">
  <div class="max-w-7xl mx-auto px-4 xl:px-0">
    <div class="flex flex-col items-center">
      <div
        class="items-center justify-center rounded-full text-sm font-medium whitespace-nowrap shadow-[0_2px_10px_0px_rgba(0,0,0,0.15)] inline-flex bg-white text-neutral-700 px-2.5 py-1"
      >
        Introducing Coloured Tajwid Fonts
      </div>
      <div
        class="mt-6 bg-gradient-to-b from-slate-800 to-slate-600 bg-clip-text text-center text-3xl font-semibold text-transparent sm:mx-auto sm:w-2/3 md:w-1/2 lg:mt-9 lg:text-4xl lg:leading-tight xl:w-2/5"
      >
        We build the coloured tajwid fonts
      </div>
      <p
        class="text-sm font-medium text-slate-600 leading-normal lg:leading-normal lg:text-base mt-4 text-center sm:mx-auto sm:w-2/3 md:w-1/2 xl:w-2/5"
      >
        This project is still in progress. We've obtained the font files from
        KFGQPC and recolour it to match the tajwid rules. Stay tuned for
        updates!
      </p>
    </div>
  </div>
  <div class="mt-9 flex flex-col items-center justify-center gap-4 lg:mt-12">
    <!-- Split Comparison Container -->
    <div
      class="relative w-full max-w-4xl mx-auto overflow-hidden rounded-lg border border-neutral-200 shadow-lg bg-white"
    >
      <div class="relative h-64 md:h-80">
        <!-- Text B (Colored) - Background Layer -->
        <div class="absolute inset-0 flex items-center justify-center p-8">
          <p
            class="quran-text font-colored text-2xl md:text-4xl xl:text-5xl text-center"
            dir="rtl"
          >
            <!-- Sural Al-Baqarah ayat 50-51 -->
                                   
          </p>
        </div>

        <!-- Text A (Non-colored) - Foreground Layer -->
        <div
          class="absolute inset-0 flex items-center justify-center p-8 bg-white"
          id="textOverlay"
          style="clip-path: inset(0 50% 0 0);"
        >
          <p
            class="quran-text font-normal text-2xl md:text-4xl xl:text-5xl text-center"
            dir="rtl"
          >
            <!-- Sural Al-Baqarah ayat 50-51 -->
                                   
          </p>
        </div>

        <!-- Draggable Handle -->
        <div
          id="dragHandle"
          class="absolute top-0 bottom-0 w-1 bg-neutral-400 cursor-ew-resize z-10 hover:bg-neutral-500 transition-colors"
          style="left: 50%;"
        >
          <!-- Handle Grip -->
          <div
            class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-8 h-8 bg-white rounded-full shadow-lg border-2 border-neutral-400 flex items-center justify-center"
          >
            <svg
              class="w-4 h-4 text-neutral-600"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M8 9l4-4 4 4m0 6l-4 4-4-4"></path>
            </svg>
          </div>
        </div>
      </div>

      <!-- Labels -->
      <div
        class="flex justify-between px-4 py-2 bg-neutral-50 border-t border-neutral-200 text-sm text-neutral-600"
      >
        <span class="font-medium">Original</span>
        <span class="font-medium">Colored Tajwid</span>
      </div>
    </div>
  </div>
  <div class="mt-6 border-b border-b-neutral-100 sm:mx-auto sm:w-7/12 lg:mt-12">
  </div>
</section>

<script>
  const handle = document.getElementById("dragHandle");
  const overlay = document.getElementById("textOverlay");
  const container = handle?.parentElement;

  let isDragging = false;

  if (handle && overlay && container) {
    const updatePosition = (clientX: number) => {
      const rect = container.getBoundingClientRect();
      let percentage = ((clientX - rect.left) / rect.width) * 100;
      percentage = Math.max(0, Math.min(100, percentage)); // Clamp between 0 and 100

      handle.style.left = `${percentage}%`;
      overlay.style.clipPath = `inset(0 ${100 - percentage}% 0 0)`;
    };

    handle.addEventListener("mousedown", (e) => {
      isDragging = true;
      e.preventDefault();
    });

    document.addEventListener("mousemove", (e) => {
      if (isDragging) {
        updatePosition(e.clientX);
      }
    });

    document.addEventListener("mouseup", () => {
      isDragging = false;
    });

    // Touch support
    handle.addEventListener("touchstart", (e) => {
      isDragging = true;
      e.preventDefault();
    });

    document.addEventListener("touchmove", (e) => {
      if (isDragging && e.touches[0]) {
        updatePosition(e.touches[0].clientX);
      }
    });

    document.addEventListener("touchend", () => {
      isDragging = false;
    });
  }
</script>
